{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchImages = (key, tagWord) =>{\r\n    return fetch(`https://pixabay.com/api/?key=${key}&q=${encodeURIComponent(tagWord)}&image_type=photo&orientation=horizontal&safesearch=true`)\r\n    .then(response => {\r\n      if (!response.ok) {\r\n        throw new Error(response.status);\r\n      }\r\n      return response.json();\r\n    })\r\n    .then(data => {\r\n          return data.hits;\r\n    })\r\n    .catch(error => {\r\n          console.log(error);\r\n    });\r\n}\r\n\r\n","export const renderImages = (images, container)=>{\r\n    container.innerHTML = '';\r\n    const markup =\r\n    images.map(image=>\r\n        `\r\n        <li class=\"item\">\r\n  <a class=\"link\" href=\"${image.largeImageURL}\">\r\n    <img\r\n      class=\"image\"\r\n      src=\"${image.webformatURL}\"\r\n      alt=\"${image.tags}\"\r\n    />\r\n  </a>\r\n  <div class=\"desc-container\">\r\n  <p class=\"descr\"><span class=\"descr-text\">Likes </span>${image.likes}</p>\r\n  <p class=\"descr\"><span class=\"descr-text\">Views </span>${image.views}</p>\r\n  <p class=\"descr\"><span class=\"descr-text\">Comments </span>${image.comments}</p>\r\n  <p class=\"descr\"><span class=\"descr-text\">Downloads </span>${image.downloads}</p>\r\n  </div>\r\n       </li>\r\n        `\r\n    ).join(\"\");\r\n\r\n\r\ncontainer.insertAdjacentHTML(\"afterbegin\", markup);\r\n\r\n}\r\n\r\n\r\n","import iziToast from \"izitoast\";\r\nimport \"izitoast/dist/css/iziToast.min.css\";\r\nimport SimpleLightbox from \"simplelightbox\";\r\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\r\nimport { fetchImages } from './js/pixabay-api.js';\r\nimport { renderImages } from './js/render-functions.js';\r\n\r\nconst key = \"44686774-01236c387d1eefb9bce1c8eeb\";\r\nconst form = document.querySelector('.form');\r\nconst input = document.querySelector(\".search-input\");\r\nconst container = document.querySelector(\".images-container\");\r\nconst loader = document.querySelector(\".loader\");\r\nconst lightbox = new SimpleLightbox('.images-container a', {\r\n    captions: true,\r\n    captionsData: 'alt',\r\n    captionPosition: 'bottom',\r\n    captionDelay: 250\r\n});\r\n\r\nform.addEventListener(\"submit\", searchImages);\r\n\r\nfunction searchImages(event){\r\n   event.preventDefault();\r\n   const tagWord = getTagWord();\r\n   if(tagWord){\r\n    container.innerHTML = '';\r\n    showLoader();\r\n    fetchImages(key, tagWord)\r\n    .then(images =>{\r\n        hideLoader();\r\n        if (images.length === 0){\r\n            container.innerHTML = '';\r\n            iziToast.error({\r\n                title: 'No images',\r\n                message: 'Sorry, there are no images matching your search query. Please try again!',\r\n                position:'topRight',\r\n            });\r\n            return;\r\n        }\r\n        renderImages(images, container);\r\n        lightbox.refresh();\r\n    })\r\n    .catch(error => {\r\n        iziToast.error({\r\n            title: 'Error!',\r\n            message: 'Failed to fetch images',\r\n            position: 'topRight',\r\n        });\r\n    });\r\n   }\r\n}\r\n\r\nfunction getTagWord(){\r\n    const tagWord = input.value;\r\n    if(tagWord.trim() === \"\"){\r\n        iziToast.error({\r\n            title: 'Error',\r\n            message: 'Please enter word',\r\n        });\r\n        return null;};\r\n\r\n    return tagWord;\r\n       \r\n}\r\n\r\nfunction showLoader() {\r\n    loader.style.display = 'block';\r\n}\r\n\r\nfunction hideLoader() {\r\n    loader.style.display = 'none';\r\n}\r\n\r\n\r\n"],"names":["fetchImages","key","tagWord","response","data","error","renderImages","images","container","markup","image","form","input","loader","lightbox","SimpleLightbox","searchImages","event","getTagWord","showLoader","hideLoader","iziToast"],"mappings":"6vBAAO,MAAMA,EAAc,CAACC,EAAKC,IACtB,MAAM,gCAAgCD,CAAG,MAAM,mBAAmBC,CAAO,CAAC,0DAA0D,EAC1I,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACOA,EAAK,IACjB,EACA,MAAMC,GAAS,CACV,QAAQ,IAAIA,CAAK,CAC3B,CAAK,ECbQC,EAAe,CAACC,EAAQC,IAAY,CAC7CA,EAAU,UAAY,GACtB,MAAMC,EACNF,EAAO,IAAIG,GACP;AAAA;AAAA,0BAEkBA,EAAM,aAAa;AAAA;AAAA;AAAA,aAGhCA,EAAM,YAAY;AAAA,aAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,2DAIoCA,EAAM,KAAK;AAAA,2DACXA,EAAM,KAAK;AAAA,8DACRA,EAAM,QAAQ;AAAA,+DACbA,EAAM,SAAS;AAAA;AAAA;AAAA,SAI9E,EAAM,KAAK,EAAE,EAGbF,EAAU,mBAAmB,aAAcC,CAAM,CAEjD,ECnBMR,EAAM,qCACNU,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,eAAe,EAC9CJ,EAAY,SAAS,cAAc,mBAAmB,EACtDK,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAW,IAAIC,EAAe,sBAAuB,CACvD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,CAAY,EAE5C,SAASA,EAAaC,EAAM,CACzBA,EAAM,eAAc,EACpB,MAAMf,EAAUgB,IACbhB,IACFM,EAAU,UAAY,GACtBW,IACAnB,EAAYC,EAAKC,CAAO,EACvB,KAAKK,GAAS,CAEX,GADAa,IACIb,EAAO,SAAW,EAAE,CACpBC,EAAU,UAAY,GACtBa,EAAS,MAAM,CACX,MAAO,YACP,QAAS,2EACT,SAAS,UACzB,CAAa,EACD,MACH,CACDf,EAAaC,EAAQC,CAAS,EAC9BM,EAAS,QAAO,CACxB,CAAK,EACA,MAAMT,GAAS,CACZgB,EAAS,MAAM,CACX,MAAO,SACP,QAAS,yBACT,SAAU,UACtB,CAAS,CACT,CAAK,EAEL,CAEA,SAASH,GAAY,CACjB,MAAMhB,EAAUU,EAAM,MACtB,OAAGV,EAAQ,KAAM,IAAK,IAClBmB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,mBACrB,CAAS,EACM,MAEJnB,CAEX,CAEA,SAASiB,GAAa,CAClBN,EAAO,MAAM,QAAU,OAC3B,CAEA,SAASO,GAAa,CAClBP,EAAO,MAAM,QAAU,MAC3B"}